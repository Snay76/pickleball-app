<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Pickleball</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <div class="topbar">
    <div class="brand">
      <div style="font-weight:950">Pickleball</div>
      <small id="versionText"></small>
    </div>

    <div class="rightTop">
      <div id="authMini" class="authMini" title="Compte">
        <span id="authDot" class="dot"></span>
        <span id="authEmail" class="authEmail">(non connecté)</span>
      </div>
    </div>
  </div>

  <!-- LOGIN -->
  <div id="loginCard" class="card">
    <h2>Connexion</h2>
    <div class="row">
      <div class="col">
        <label for="email">Courriel</label>
        <input id="email" type="email" placeholder="nom@exemple.com" autocomplete="email" inputmode="email" />
      </div>
      <div class="col" style="flex:0 0 240px;">
        <button id="loginBtn" class="btnPrimary" type="button">Recevoir un lien</button>
      </div>
    </div>
    <div class="help">
      Tu reçois un lien par courriel. Clique-le pour te connecter.
    </div>
    <div class="hr"></div>
    <div id="loginStatus" class="status">Prêt.</div>
  </div>

  <!-- APP -->
  <div id="appCard" class="card hidden">
    <h2>Session</h2>

    <!-- Lieu -->
    <div class="row">
      <div class="col">
        <label for="venueSelect">Lieu (obligatoire)</label>
        <select id="venueSelect"></select>
        <div class="help">Seuls les joueurs du lieu sélectionné sont visibles. Ton compte reste le même partout.</div>
      </div>
      <div class="col" style="flex:0 0 240px;">
        <button id="reloadBtn" type="button">Rafraîchir</button>
      </div>
    </div>

    <!-- Menu affichage -->
    <div class="menuGrid">
      <button class="menuBtn active" data-view="addPlayer">Ajout de joueur</button>
      <button class="menuBtn" data-view="listPlayers">Liste de joueurs</button>
      <button class="menuBtn" data-view="allMatches">Tous les matchs</button>
      <button class="menuBtn" data-view="myMatches">Mes matchs</button>
    </div>

    <!-- View: add player -->
    <div id="view_addPlayer" style="margin-top:12px;">
      <h3>Ajouter un joueur (dans ce lieu)</h3>
      <div class="row">
        <div class="col">
          <label for="playerName">Nom complet</label>
          <input id="playerName" type="text" placeholder="Ex: Yans Côté" />
        </div>
        <div class="col" style="flex:0 0 240px;">
          <button id="addPlayerBtn" class="btnPrimary" type="button">Ajouter</button>
        </div>
      </div>
      <div class="help">Le joueur est lié au lieu sélectionné.</div>
    </div>

    <!-- View: list players -->
    <div id="view_listPlayers" class="hidden" style="margin-top:12px;">
      <h3>Liste des joueurs (ce lieu)</h3>
      <div id="playersEmpty" class="muted">Chargement…</div>
      <div id="playersWrap"></div>
    </div>

    <!-- View: matches -->
    <div id="view_matches" class="hidden" style="margin-top:12px;">
      <h3>Matchs (session du jour)</h3>

      <div class="row">
        <div class="col">
          <label for="court">Terrain</label>
          <select id="court"></select>
        </div>
        <div class="col">
          <label for="a1">A1</label>
          <select id="a1"></select>
        </div>
        <div class="col">
          <label for="b1">B1</label>
          <select id="b1"></select>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label for="a2">A2 (optionnel)</label>
          <select id="a2"></select>
        </div>
        <div class="col">
          <label for="b2">B2 (optionnel)</label>
          <select id="b2"></select>
        </div>
        <div class="col" style="flex:0 0 240px;">
          <button id="createMatchBtn" class="btnPrimary" type="button">Créer match</button>
        </div>
      </div>

      <div class="row">
        <div class="col" style="flex:0 0 320px;">
          <button id="finishAllBtn" class="btnDanger" type="button">Terminer tous les matchs en cours</button>
        </div>
      </div>

      <div class="hr"></div>

      <div id="matchesEmpty" class="muted">Chargement…</div>
      <div id="matchesWrap"></div>

      <div class="hr"></div>
      <div id="debug" class="status">…</div>
    </div>
  </div>

  <script type="module" src="js/ui-main.js"></script>
</body>
</html>
